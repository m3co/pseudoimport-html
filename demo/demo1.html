<!doctype html>
<html>
  <head>
    <title>MDL-Fragment Demo 1</title>
    <script src="https://cdn.ravenjs.com/3.9.1/raven.min.js"></script>
    <script>
      'use strict';
      Raven.config('https://fa54258dc11647fa901fef0aa3d38006@sentry.io/104730').install();
    </script>
    <script src="/bower_components/promise-polyfill/promise.min.js"></script>
    <script src="/bower_components/customevent-polyfill/customevent-polyfill.min.js"></script>
    <script src="/bower_components/element-matches/closest.js"></script>
    <script src="/bower_components/fetch/fetch.js"></script>
    <script src="/bower_components/material-design-lite/material.min.js"></script>
    <link rel="stylesheet" href="/bower_components/material-design-lite/material.min.css">
    <script src="/fragment.js"></script>
  </head>
  <body>
    <div>In order to import an <strong>HTML document</strong> from an URI, use the class <i>.mdl-fragment</i> in conjunction with <i>src</i> attribute.</div><br>
    <i>demo1.html</i>
    <pre><code class="html">
&lt;div id="fragment1"
     src="/trunk/demo1-fragment1.html"
     class="mdl-fragment"&gt;
&lt;/div&gt;
    </code></pre>
    <i>demo1-fragment1.html</i>
    <pre><code class="html">
&lt;!doctype html&gt;
&lt;div&gt;Fragment 1&lt;/div&gt;
&lt;script&gt;
  'use strict';
  document.querySelector('#fragment1').addEventListener('load', function (e) {
    console.log('fragment loaded detected by inline script');
  });
&lt;/script&gt;
&lt;script src="/demo/demo1-fragment1.js"&gt;&lt;/script&gt;
    </code></pre>
    <i>demo1-fragment1.js</i>
    <pre><code class="javascript">
'use strict';
document.querySelector('#fragment1').addEventListener('load', function (e) {
  console.log('fragment loaded detected by script');
});
    </code></pre>
    <i>... and polyfills</i>
    <pre><code class="html">
&lt;script src="/bower_components/promise-polyfill/promise.min.js"&lt;/script&gt;
&lt;script src="/bower_components/customevent-polyfill/customevent-polyfill.min.js"&gt;&lt;/script&gt;
&lt;script src="/bower_components/element-matches/closest.js"&gt;&lt;/script&gt;
&lt;script src="/bower_components/fetch/fetch.js"&gt;&lt;/script&gt;
    </code></pre>
    <div><i>The expected result of this import is</i></div>
    <img src="https://puu.sh/thXWu/280c743555.png"><br><br><br>
    <div><i>The actual result of this import is</i></div><br>
    <div src="/trunk/demo1-fragment1.html" class="mdl-fragment" id="fragment1"></div><br>
    <div><i>and Console in Chrome will show</i></div>
    <pre><code>
fragment loaded detected by inline script       VM1410:4
fragment loaded detected by script  demo1-fragment1.js:3
    </code></pre>
  </body>
</html>
